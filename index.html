<html>
	<head></head>
	<body>
		<script>
			// Async loads Azure script.
			function addScript(event) {
				console.log(event.origin);
				var id = "azure-sdk";
				var firstScript = document.getElementsByTagName("script")[0];
				if (document.getElementById(id)) return;
				var script = document.createElement("script");
				script.innerText = "console.log('yo my peeps')";
				firstScript.parentNode.insertBefore(script, firstScript);
			}
			
			function receiveMessage(event) {
				var data = event.data;
				var postDiv = document.getElementById("post-message");
				
				postDiv.innerHTML = data;
			}
			window.addEventListener("message", addScript, false);
			window.parent.postMessage("ready", "*");
		</script>
		<div>This is a test of post message</div>
		<div id="post-message"></div>
	</body>
</html>
